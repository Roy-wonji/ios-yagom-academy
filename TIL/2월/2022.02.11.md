## â›ºï¸iOS_TIL(Toady l Learned)

02.11(ê¸ˆ)
> ì œê°€ ì´í•´í•˜ê³  ê³µë¶€ í•œëŒ€ë¡œ ì‘ì„±í•œ  ë‚´ìš©ì´ë‹¤ ë³´ë‹ˆ , ì •í™•í•œ ì •ë³´ê°€ ì•„ë‹ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤ 
   ê³ ì³ì•¼ í•  ë¶€ë¶„ì´ ìˆë‹¤ë©´ , í¸í•˜ê²Œ  ì• ê¸° í•´ì£¼ì‹œë©´  ê°ì‚¬ í•˜ê² ìŠµë‹ˆë‹¤ğŸ™ğŸ»


#### TIL preview
ì˜¤ëŠ˜ì€ optionalì— ëŒ€í•´ì„œ í•™ìŠµì„ í–ˆìŠµë‹ˆë‹¤
ì´ë ‡ê²Œ í•˜ë£¨ì˜ ì£¼ì œë¡œ ì¡ê³  ì´ì•¼ê¸°ë¥¼ í•´ë³´ë‹ˆ ë” ì¬ë¯¸ìˆì—ˆìŠµë‹ˆë‹¤ 
ì½”ë‹¤ê°€  ê° ë¶€ë¶„ë³„ë¡œ ì–´ë–»ê²Œ í•˜ë©´  `guard let , if let ì˜µì…”ë„ ì¶”ì¸¨` ì„ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ í•˜ë©´ ì¶”ì¸¨ ì„ í• ìˆ˜ ìˆê³  ì–´ë–»ê²Œ ì‚¬ìš© í• ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´  ê³µì‹ ë¬¸ì„œë¥¼ ë³´ë©´ì„œ ì´ì•¼ê¸°ë¥¼ í•´ë³´ë‹ˆ ë” ì¬ë¯¸ ìˆì—ˆìŠµë‹ˆë‹¤  
ë™ê¸° í•œë¶„ì´  guard let   ìŠ¤í˜ì´ìŠ¤ë¥¼ ì…ë ¥ì„ í•˜ë©´  ë°”ì¸ë”©  ì‹¤íŒ¨ ë¼ê³  ë– ì•¼ í•˜ëŠ”ë°  ì•ˆë– ì„œ ì´ê±¸  ì–´ë–»ê²Œ í•´ê²°ì„ í•˜ë©´  ë°”ì¸ë”© ì‹¤íŒ¨ë¼ê³  ëœ°ê¹Œ ë¼ê³   í† ë¡ ì„ í–ˆëŠ”ë°  `crtil + d`ë¥¼ ëˆŒë¥´ë©´  ë¹ˆê°’ì„ ì…ë ¥ì„ ì•ˆí•˜ê³  ì‹¤í–‰ì„ í•˜ê²Œ ë˜ê³  lib ë¥¼ ì°ì–´ì„œ í•˜ëŠ” ë°©ë²• ë„ ë°°ìš°ê³  í† ë¡  ë„ í•´ë³´ê³  optionalì„ ì–´ë–»ê²Œ ë‹¤ë£¨ì–´ì•¼í• ì§€ë¥¼ ì •ë¦¬í•  ìˆ˜ ìˆëŠ” ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤.

### Optional
> SwiftëŠ” ì•ˆì „í•œ ì½”ë”©ì„ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì–¸ì–´ë¼ê³  ì•Œë ¤ì ¸ ìˆê³ ,
ê·¸ë¦¬ê³  ì´ ì•ˆì „ì„±ì˜ ê¸°ë³¸ ë°”íƒ•ì— ìˆëŠ” ì¤‘ìš”í•œ ìš”ì†Œ ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ Optionalì´ë¼ëŠ” ê°œë…ì´ë¼ê³  í•©ë‹ˆë‹¤.
Swiftê°€ ê°–ëŠ” Optionalì´ë¼ëŠ” ê°œë…ì€ ë³€ìˆ˜ì˜ ê°’ì´ nilì¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ í‘œí˜„í•˜ëŠ” ê±´ë°ìš”, ë°˜ëŒ€ë¡œ Optionalì´ ì•„ë‹ˆë¼ë©´(non-optional) í•´ë‹¹ ê°’ì€ nilì´ ë  ìˆ˜ ì—†ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. Objective-Cë¥¼ ì‚¬ìš©í•´ì™”ë‹¤ë©´ Optionalì´ë¼ëŠ” í‘œí˜„ì´ ë„ˆë¬´ë‚˜ë„ ë‹¹ì—°í•´ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, Swiftì—ì„œëŠ” Optionalì€ ë§ ê·¸ëŒ€ë¡œ ì˜µì…˜(ì„ íƒì ) ì´ë©° ê¸°ë³¸ê°’ì€ non-Optional ì…ë‹ˆë‹¤.

optionalì€ ?ë¥¼ í†µí•´ í‘œí˜„ë˜ê³ , ê·¸ ì˜ë¯¸ëŠ”
ì´ ë³€ìˆ˜ì—ëŠ” ê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ë„ ìˆê³ , ì•„ë‹ ìˆ˜ë„ ìˆë‹¤(nil) ì…ë‹ˆë‹¤.
`let optioanlValue: Int?`

ì´ë ‡ê²Œ ë³€ìˆ˜ íƒ€ì… ë’¤ì— ?ë¥¼ ë¶™ì—¬ì£¼ë©´ í•´ë‹¹ ë³€ìˆ˜ëŠ” optionalì´ ë˜ëŠ”ë°,
ê¸°ë³¸ì ìœ¼ë¡œ swiftì—ì„œëŠ” ë³€ìˆ˜ì— nilì´ ë“¤ì–´ê°€ëŠ” ê²ƒì„ í—ˆìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ í‘œí˜„ì´ í•„ìš”í•œ ê²ƒì´ì£ !
optionalì„ ì„ ì–¸í•˜ì§€ ì•Šì€ ë³€ìˆ˜ì— nilì„ í• ë‹¹í•˜ë©´, ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ì•„ë‹ˆë¼ 'ì»´íŒŒì¼ ì—ëŸ¬'ê°€ ë‚©ë‹ˆë‹¤.

ì°¸ê³ ë¡œ nilì€ ë”°ë¡œ ì´ˆê¸°í™”í•˜ì§€ ì•Šì•„ë„ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

`var optionalValue1: Int?
var optionalValue2: Int? = nil
// ë‘ ê°’ ëª¨ë‘ nil`

-------------

### optional ê³µë¶€ í•˜ë©´ì„œ ì—ëŸ¬ ìƒí™©

```swift=
class Test {
 
    func optional() {
       let input = readLine()
        if let inputString = input  {
            print(inputString)
            
        } else {
            print("ì˜µì…”ë„ ë°”ì¸ë”© ì‹¤íŒ¨")
        }
    }
} 

```
ê·¼ë° ì—¬ê¸°ì„œ ì˜¤ë¥˜ê°€ ë‚œê²Œ ë°”ì¸ë”© ì‹¤íŒ¨ê°€ ì•ˆë‚˜ì™”ëŠ”ë° 
ì´ ì˜¤ë¥˜ëŠ”  `readline()` ì—ì„œ ì—”í„°ë¥¼ ì¹˜ë©´  ë¹ˆ ë°°ì—´ì´ ë“¤ì–´ê°€ì„œ ì…ë ¥ì´ ë“¤ì–´ê°€ì„œ ì—”í„°ë¥¼ ì¹˜ë©´  ì¢…ë£Œê°€ ëëŠ”ë° ì—¬ê¸°ì„œ `cmd + d` ë¥¼ ëˆŒë¥´ë©´ ì•„ë¬´ê²ƒë„ ì…ë ¥ì´ ì•ˆëœìƒíƒœë¡œ ì…ë ¥ì´ ë˜ì–´ì„œ ì˜µì…”ë„ ë°”ì¸ë”©  ì‹¤íŒ¨ë¼ê³  ëœ¹ë‹ˆë‹¤

### compactMap
> compactMapì´ë€ nilì´ ì‹œí€€ìŠ¤ì˜ ê° ìš”ì†Œë¡œ ì£¼ì–´ì§„ ë³€í™˜ì„ í˜¸ì¶œí•œ ê²°ê³¼ê°€ ì•„ë‹Œ ë°°ì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤ .

``` swift
func compactMap<ElementOfResult>(_ transform: (Self.Element) throws -> ElementOfResult?) rethrows -> [ElementOfResult]

```
Return Value
> ì‹œí€€ìŠ¤ì˜ ê° ìš”ì†Œë¡œ nilí˜¸ì¶œí•œ ê²°ê³¼ê°€ ì•„ë‹Œ ë°°ì—´ì…ë‹ˆë‹¤ 

Discussion
> ë³€í™˜ì´ ì„ íƒì  ê°’ì„ ìƒì„±í•  ë•Œ ë¹„ì„ íƒì  ê°’ì˜ ë°°ì—´ì„ ìˆ˜ì‹ í•˜ë ¤ë©´ ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

ì´ ì˜ˆì—ì„œ ì„ íƒì  ê°’ ì„ ë°˜í™˜í•˜ëŠ” ë³€í™˜ì„ ì‚¬ìš©í•œ ê²°ê³¼ mapì™€ ì‚¬ìš© ê²°ê³¼ì˜ ì°¨ì´ì— ì£¼ëª©í•˜ì‹­ì‹œì˜¤ .compactMapInt

```swift=

let possibleNumbers = ["1", "2", "three", "///4///", "5"]

let mapped: [Int?] = possibleNumbers.map { str in Int(str) }
// [1, 2, nil, nil, 5]

let compactMapped: [Int] = possibleNumbers.compactMap { str in Int(str) }
// [1, 2, 5]
```
> ë³µì¡ì„±: O( m + n ), ì—¬ê¸°ì„œ n ì€ ì´ ì‹œí€€ìŠ¤ì˜ ê¸¸ì´ì´ê³  m ì€ ê²°ê³¼ì˜ ê¸¸ì´ì…ë‹ˆë‹¤.





### â›ºï¸TIL summary && í”„ë¡œì íŠ¸ step2 
1. ì˜¤ëŠ˜ì€ ì•¼êµ¬ê²Œì„ ì½”ë“œ êµ¬í˜„ì— í˜¼ì„ ê°ˆì•˜ìŠµë‹ˆë‹¤.
2. ì²˜ìŒìœ¼ë¡œ  `compactMap`ì„ ì²˜ìŒ ì¨ë³´ì•˜ëŠ”ë°  ë‹¤ë¥¸ë¶„ë“¤ì˜ ì½”ë“œë¥¼ ì‚´ì§ ë³´ë‹ˆ `compactMap`ì„ ë‹¤ë“¤ ì‚¬ìš©í•˜ê¸¸ë˜  ë”°ë¼ êµ¬í˜„ì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤ 
3. ì•„ì§ë„  ì œ ë°œëª©ì„ ê³„ì† ì¡ëŠ” ì´ë¦„ì§“ê¸°ì™€ ë„ì €íˆ ì–´ì°Œí• ì§€ ëª¨ë¥´ê² ëŠ” ì „ì—­ë³€ìˆ˜ì™€ ì „ìŸì´ì—ˆìŠµë‹ˆë‹¤.
4. ëª¨ë¥´ëŠ” ë¬¸ë²• ê°™ì€ê±° ìˆìœ¼ë©´ ì°¾ì•„ë³´ê±°ë‚˜ ì´í•´ ë ë•Œê¹Œì§€ í•´ë³´ê±°ë‚˜ ì˜ˆì‹œë¥¼ ë§Œë“¤ì–´ì„œ í•´ë³´ê¸°

### â›ºï¸ ë¬¸ì œì  / ê³ ë¯¼í•œ ì  / ëŠë‚€ì  
- í•¨ìˆ˜ì˜ ê¸°ëŠ¥ ìµœëŒ€í•œ ë¶„ë¦¬í•˜ê³  í•˜ë“œì½”ë”©ì„ ì•ˆí• ë ¤ê³  ë…¸ë ¥ì„ ë§ì´ í–ˆìŠµë‹ˆë‹¤ ğŸ˜‚
- ìˆ«ìë¥¼ ì…ë ¥í• ë•Œ ê³µë°±ì´ ì—†ì„ë•Œ ì–´ë–¤í•¨ìˆ˜ë¡œ ì¨ì„œ ì œê±°ë¥¼ í•´ì•¼ í• ì§€ ëª°ë¼ì„œ ê³ ë¯¼ì„ ë§ì´ í–ˆìŠµë‹ˆë‹¤ ğŸ˜‚
- í•¨ìˆ˜ì˜ ê¸°ëŠ¥ì„ í•˜ë‚˜ë§Œ ê¸°ëŠ¥í•  ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•´ë³´ì•˜ëŠ”ë° `isHaveIntType()`í•¨ìˆ˜ë‚´ì— `saveCovertedNumbers()`í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ê°’ì„ ì €ì¥í•˜ì˜€ëŠ”ë° ì´ë˜í•œ í•¨ìˆ˜ì˜ ê¸°ëŠ¥ì´ ë‘ê°€ì§€ê°€ ë˜ëŠ”ê²ƒ ê°™ë‹¤ëŠ”ìƒê°ì´ ë“œëŠ”ë° ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš” ? í˜¹ì‹œ ê·¸ë ‡ë‹¤ë©´ ë¶„ë¦¬í•´ë³¼ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆì„ê¹Œìš” ?

### Trouble shooting
ì•„ë˜ëŠ” ìˆ«ìê²Œì„ì„ í•  ìˆ˜ ìˆëŠ” 9ê°œì˜ ì°¬ìŠ¤ê°€ 0ì´ ë ë•Œê¹Œì§€ `isHaveVerifiedNumbers()`í•¨ìˆ˜ê°€ trueì´ë©´ ë‚´ë¶€ì˜ ê²Œì„ì„ ì‹¤í–‰í•˜ê³  ì•„ë‹ˆë©´ `receiveInputNumbers()í•¨`ìˆ˜ë¥¼ ë‹¤ì‹œì‹¤í–‰í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

```swift=
func playGame() {
    let chancePoint = 1
    
    while remainingChangeCount > .zero {
        if isHaveVerifiedNumbers(receiveInputNumbers()) {
            let (strikeResult, ballResult) = calculateStrikeBallWith(userInputNumbers, and: computerNumbers)
            remainingChangeCount -= chancePoint
            printPlayingGameMessage(userNumbers: userInputNumbers, ballCount: ballResult, strikeCount: strikeResult)
            if strikeCounting == endGameCount { break }
        } else {
            receiveInputNumbers()
        }
    }
    judgeGameResult()
}
```

ë¬¸ì œë°œìƒ)
ì²«ë²ˆì§¸ì˜ ê°’ì€ ì…ë ¥ì´ ì˜ë¬ì§€ë§Œ ë‘ë²ˆì§¸ë¶€í„°ëŠ” ê³„ì† else ë¡œ ë¹ ì§€ëŠ” í˜„ìƒì´ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ìœ ëŠ” `saveConvertedNumbers()`í•¨ìˆ˜ì˜ ê°’ì„ ì €ì¥í•˜ëŠ” ë°©ì‹ì´ì—ˆê¸°ë•Œë¬¸ì…ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ì…ë ¥ê°’ì„ ì „ì—­ë³€ìˆ˜ì¸ `var userInputNumbers `ë³€ìˆ˜ì— ì €ì¥í•˜ëŠ” ë°©ì‹ì¸ë°

```swift=
func saveConvertedNumbers(_ numbers: [Int]) {
    userInputNumbers.apppend(numbers)
}
```

ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì €ì¥ì„ í–ˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ì „ì—­ë³€ìˆ˜ ì´ë‹¤ë³´ë‹ˆ ì²«ë²ˆì§¸ ê°’ ì˜ˆì‹œ)`[ 1, 4, 5]`ë¥¼ ì €ì¥í•˜ê³  ë‘ë²ˆì§¸ ì‹¤í–‰ë ë•Œ `[2, 5, 6]`ì„ ì €ì¥í•œë‹¤ê³  ê°€ì •í•˜ë©´ ê²°ê³¼ì ìœ¼ë¡œ 6ê°œì˜ ê°’ì´ ì €ì¥ì´ ë˜ê¸°ë•Œë¬¸ì— ì§€ì†ì ìœ¼ë¡œ falseë¡œ ë¹ ì¡Œë˜ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.

í•´ê²°ë°©ë²•)
```swift=
func saveConvertedNumbers(_ numbers: [Int]) {
    userInputNumbers = numbers
```

ì½”ë“œëŠ” ì´ë ‡ê²Œ ê°œì„ í•˜ì—¬ ìµœê¸°í™”í•˜ì—¬ ê°’ì„ ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë¡œì§ì„ ìˆ˜ì •í•˜ì˜€ê³  ì´í›„ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ì´ ì˜ ë ìˆ˜ ìˆì—ˆë‹¤. ë©”ì„œë“œì˜ ê¸°ëŠ¥ì„ ì˜ ì´í•´í•˜ê³  ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ì„ê²ƒì´ë©° ì´ëŸ° ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•Šê¸°ìœ„í•´ì„œëŠ” ê°€ë…ì„± ì¢‹ì€ ì½”ë“œë¥¼ êµ¬í˜„í•´ì•¼ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.

### â›ºï¸ ì°¸ê³  ìë£Œ 
- [ì˜µì…”ë„ê³µì‹ ë¬¸ì„œ](https://docs.swift.org/swift-book/LanguageGuide/OptionalChaining.html)
- [compactMap](https://developer.apple.com/documentation/swift/sequence/2950916-compactmap)

[ë‹¤ìŒ TIL ë³´ê¸° ](https://github.com/Roy-wonji/ios-yagom-academy/blob/main/TIL/2%EC%9B%94/2022.02.14.md)
